FIND_PACKAGE(Qt4 REQUIRED)
INCLUDE(${QT_USE_FILE})

FIND_PACKAGE(VTK REQUIRED)
INCLUDE(${VTK_USE_FILE})

# Translations
QT4_ADD_TRANSLATION(QMFiles tr_ptbr.ts)

# Resources
QT4_ADD_RESOURCES(RSrcs SEST2D.qrc)

# UI Files
QT4_WRAP_UI (UISrcs  evaluatedw.ui geometryparamsdw.ui identifyellipsdw.ui loadparamsdw.ui mainwindow.ui parametersdw.ui pwbdw.ui initialconfigdialog.ui historydw.ui prefinedw.ui hrefinedw.ui poromechdw.ui fluiddw.ui meshdw.ui)
QT4_WRAP_CPP(MOCSrcs evaluatedw.h  geometryparamsdw.h  identifyellipsdw.h  loadparamsdw.h  mainwindow.h  parametersdw.h  pwbdw.h  initialconfigdialog.h  historydw.h  prefinedw.h  hrefinedw.h  poromechdw.h  fluiddw.h  meshdw.h tpbrunitinput.h)

include_directories(${CMAKE_CURRENT_SOURCE_DIR} ${CMAKE_CURRENT_BINARY_DIR})

file(GLOB headers1 *.h)
file(GLOB sources1 *.cpp)

file(GLOB headersTP ${PROJECT_SOURCE_DIR}/Projects/Plasticity/WellBoreAnalysis.h)
file(GLOB sourcesTP ${PROJECT_SOURCE_DIR}/Projects/Plasticity/WellBoreAnalysis.cpp)

file(GLOB headersExt externallibs/units-2.11/units.h externallibs/units-2.11/getopt.h)
file(GLOB sourcesExt externallibs/units-2.11/units.c externallibs/units-2.11/parse.tab.c)

include_directories(${PROJECT_SOURCE_DIR}/Projects/Plasticity/ ${headersExt})

file (GLOB to_remove_from_sources main.cpp)
list (REMOVE_ITEM sources1 ${to_remove_from_sources})

set(main_SRCS main.cpp ${sources1} ${headers1} ${headers} ${sources} ${headersTP} ${sourcesTP} ${headersExt} ${sourcesExt})

ADD_EXECUTABLE(WellboreQT ${main_SRCS} ${MOCSrcs} ${UISrcs} ${RSrcs} ${QMFiles})

if(${VTK_VERSION} VERSION_LESS "6")
	TARGET_LINK_LIBRARIES(WellboreQT ${QT_QTMAIN_LIBRARY} ${QT_LIBRARIES} ${QWT_LIB} ${VTK_LIBRARIES} pz QVTK)
else()
	TARGET_LINK_LIBRARIES(WellboreQT ${QT_QTMAIN_LIBRARY} ${QT_LIBRARIES} ${QWT_LIB} ${VTK_LIBRARIES} pz)
endif()

